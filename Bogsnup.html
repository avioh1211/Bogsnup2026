<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="da"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;title&gt;MÃ¥nedlig Bogudsalg&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>* { margin: 0; padding: 0; box-sizing: border-box; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; padding: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.container { max-width: 1600px; margin: 0 auto; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>header { background: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* Controls &amp; Admin Styling */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.controls { background: white; padding: 20px 30px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); display: flex; gap: 15px; align-items: center; flex-wrap: wrap; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.name-input-group { display: flex; min-width: 300px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.name-input-group input { padding: 10px 15px; border: 2px solid #ddd; border-radius: 8px 0 0 8px; font-size: 14px; flex: 1; border-right: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.btn-gem { padding: 10px 25px; background: white; color: #ff3b30; border: 2px solid #ddd; border-radius: 0 8px 8px 0; cursor: pointer; font-size: 18px; font-weight: 800; transition: all 0.2s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.btn-gem.saved { background: #34c759; color: white; border-color: #34c759; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.admin-section { display: flex; gap: 10px; align-items: center; border-left: 2px solid #eee; padding-left: 15px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.admin-section input { padding: 10px; border: 2px solid #ddd; border-radius: 8px; width: 130px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.admin-btn, .secondary-btn { padding: 10px 20px; background: #007aff; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.secondary-btn { background: #34c759; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>button:disabled { background: #ccc !important; cursor: not-allowed; opacity: 0.6; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* Grid &amp; Cards */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.book-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.book-card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.2s; cursor: pointer; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.book-card:hover { transform: translateY(-4px); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.book-title { font-size: 16px; font-weight: 600; margin-bottom: 5px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.book-author { color: #666; font-size: 14px; margin-bottom: 12px; }</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* Claims Slots */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.claim-slots { display: flex; gap: 6px; margin-top: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.claim-slot { flex: 1; padding: 6px; background: #f8f8f8; border: 2px dashed #ddd; border-radius: 6px; font-size: 12px; text-align: center; color: #999; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.claim-slot.filled { background: #e3f2fd; border: 2px solid #2196f3; color: #1976d2; font-weight: 600; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.claim-slot.winner { background: #ffd700; border: 2px solid #ffa000; color: #c67100; animation: pulse 1.5s infinite; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* Modal */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.modal.active { display: flex; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.modal-content { background: white; border-radius: 16px; padding: 30px; max-width: 500px; width: 90%; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.btn-saxo { display: block; width: 100%; padding: 12px; background: #202e44; color: white; text-decoration: none; text-align: center; border-radius: 8px; font-weight: 600; margin-bottom: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.modal-claim-item { padding: 10px; background: #f8f8f8; border-radius: 8px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center;}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.modal-claim-item.winner { background: #ffd700; font-weight: bold; border: 1px solid #ffa000;}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.modal-buttons { display: flex; gap: 10px; margin-top: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.modal-buttons button { flex: 1; padding: 12px; border-radius: 8px; border: none; cursor: pointer; font-weight: 600; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.btn-primary { background: #007aff; color: white; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;header&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h1&gt;ğŸ“š MÃ¥nedlig Bogudsalg&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;p&gt;VÃ¦lg dine yndlingsbÃ¸ger og tilmeld dig lodtrÃ¦kningen&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="controls"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="name-input-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="userName" placeholder="Dit navn"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn-gem" id="saveNameBtn" onclick="saveUserName()"&gt;GEM&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="admin-section"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="password" id="adminPass" placeholder="Adgangskode"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button id="lockBtn" onclick="toggleAdmin()"&gt;ğŸ”“&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="file" id="csvFileInput" accept=".csv" style="display: none;" onchange="handleCSVUpload(event)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="secondary-btn admin-btn" id="btnUpload" onclick="document.getElementById('csvFileInput').click()" disabled&gt;ğŸ“ Upload CSV&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="secondary-btn admin-btn" id="btnLottery" onclick="runAllLotteries()" disabled&gt;ğŸ² KÃ¸r LodtrÃ¦kning&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="admin-btn" style="background:#ff3b30" id="btnReset" onclick="clearAllData()" disabled&gt;ğŸ”„ Nulstil Alt&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="book-grid" id="bookGrid"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div class="modal" id="bookModal"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="modal-content"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h2 id="modalTitle"&gt;&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;p id="modalAuthor" style="margin-bottom:20px; color:#666;"&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="modalBody"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="modal-buttons"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="btn-primary" id="modalActionButton"&gt;&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button onclick="closeModal()"&gt;Luk&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>let books = JSON.parse(localStorage.getItem('bookShuffleData')) || [];</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function toggleAdmin() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (document.getElementById('adminPass').value === "Bogsnup2026") {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>document.querySelectorAll('.admin-btn').forEach(b =&gt; b.disabled = false);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>document.getElementById('lockBtn').textContent = "ğŸ”’";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>document.getElementById('adminPass').disabled = true;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>} else { alert("Forkert kode!"); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function saveUserName() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const name = document.getElementById('userName').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (name) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>localStorage.setItem('shufflerUserName', name);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const btn = document.getElementById('saveNameBtn');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>btn.textContent = 'âœ“'; btn.classList.add('saved');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>setTimeout(() =&gt; { btn.textContent = 'GEM'; btn.classList.remove('saved'); }, 2000);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>renderBooks();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function handleCSVUpload(event) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const reader = new FileReader();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>reader.onload = (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const lines = e.target.result.split('\n').filter(l =&gt; l.trim());</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>books = lines.slice(1).map((l, i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const p = l.split(/[;,]/);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>return { id: i, title: p[0].trim(), author: p[1]?.trim() || 'Ukendt', claims: [], winner: null };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>saveData(); renderBooks();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>reader.readAsText(event.target.files[0]);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function renderBooks() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const grid = document.getElementById('bookGrid');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>grid.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>books.forEach(b =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const card = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>card.className = 'book-card';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>card.onclick = () =&gt; openModal(b.id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const slots = Array(4).fill().map((_, i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const c = b.claims[i];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const win = b.winner === c &amp;&amp; c;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>return `&lt;div class="claim-slot ${win ? 'winner' : (c ? 'filled' : '')}"&gt;${c || '-'} ${win ? 'ğŸ‘‘' : ''}&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>}).join('');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>card.innerHTML = `&lt;div class="book-title"&gt;${b.title}&lt;/div&gt;&lt;div class="book-author"&gt;${b.author}&lt;/div&gt;&lt;div class="claim-slots"&gt;${slots}&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>grid.appendChild(card);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function openModal(id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const b = books.find(x =&gt; x.id === id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const user = document.getElementById('userName').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const saxoLink = `https://www.saxo.com/dk/soeg/butik?query=${encodeURIComponent(b.title + ' ' + b.author)}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('modalTitle').textContent = b.title;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('modalAuthor').textContent = b.author;</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let claimsHtml = b.claims.map(c =&gt; `&lt;div class="modal-claim-item ${b.winner === c ? 'winner' : ''}"&gt;&lt;span&gt;${c}&lt;/span&gt; ${b.winner === c ? 'ğŸ†' : ''}&lt;/div&gt;`).join('') || 'Ingen claims endnu';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('modalBody').innerHTML = `&lt;a href="${saxoLink}" target="_blank" class="btn-saxo"&gt;ğŸ“– Se bogen pÃ¥ Saxo.com&lt;/a&gt;${claimsHtml}`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const btn = document.getElementById('modalActionButton');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (!user) { btn.textContent = "Indtast navn fÃ¸rst"; btn.disabled = true; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>else if (b.claims.includes(user)) { btn.textContent = "Fjern min claim"; btn.disabled = false; btn.onclick = () =&gt; removeClaim(id); btn.style.background = '#ff3b30'; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>else if (b.claims.length &gt;= 4) { btn.textContent = "Fuld"; btn.disabled = true; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>else { btn.textContent = "Claim bogen"; btn.disabled = false; btn.onclick = () =&gt; addClaim(id); btn.style.background = '#007aff'; }</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('bookModal').classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function addClaim(id) {<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const user = document.getElementById('userName').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const b = books.find(x =&gt; x.id === id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (!b.claims.includes(user)) { b.claims.push(user); saveData(); renderBooks(); openModal(id); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function removeClaim(id) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const b = books.find(x =&gt; x.id === id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const user = document.getElementById('userName').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>b.claims = b.claims.filter(c =&gt; c !== user);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (b.winner === user) b.winner = null;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>saveData(); renderBooks(); openModal(id);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function runAllLotteries() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>books.forEach(b =&gt; { if (b.claims.length &gt; 0) b.winner = b.claims[Math.floor(Math.random() * b.claims.length)]; });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>saveData(); renderBooks();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function clearAllData() { if (confirm("Nulstil alle claims?")) { books.forEach(b =&gt; { b.claims = []; b.winner = null; }); saveData(); renderBooks(); } }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function saveData() { localStorage.setItem('bookShuffleData', JSON.stringify(books)); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function closeModal() { document.getElementById('bookModal').classList.remove('active'); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>window.onload = () =&gt; {<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const n = localStorage.getItem('shufflerUserName');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (n) document.getElementById('userName').value = n;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>renderBooks();<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
